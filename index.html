<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#ffffff" />
  <title>FURUYUME</title>

  <!-- Inter -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#fff;
      --text:#0a0a0a;
      --muted:#6b6b6b;
      --hair:#e9e9e9;
      --glass: rgba(255,255,255,.58);
      --glass2: rgba(255,255,255,.36);
      --shadow: 0 10px 30px rgba(0,0,0,.08);
      --radius: 18px;
      --ls: -0.05em;     /* “-100” вайб */
      --ls-soft: -0.05em;/* “-50” для Долями */
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background:var(--bg);
      color:var(--text);
      letter-spacing: var(--ls);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      text-rendering: geometricPrecision;
      overflow-x:hidden;
    }

    a{ color:inherit; text-decoration:none; }
    button{ font:inherit; letter-spacing: inherit; background:none; border:0; padding:0; color:inherit; }

    /* Safe areas for Telegram iOS */
    .safe{
      padding-left: max(16px, env(safe-area-inset-left));
      padding-right: max(16px, env(safe-area-inset-right));
    }
    .top-safe{ padding-top: max(10px, env(safe-area-inset-top)); }
    .bottom-safe{ padding-bottom: max(16px, env(safe-area-inset-bottom)); }

    /* Loading */
    .loader-screen{
      position:fixed; inset:0;
      background:#fff;
      display:flex;
      align-items:center;
      justify-content:center;
      flex-direction:column;
      z-index:9999;
      transition: opacity .28s ease, transform .28s ease;
    }
    .loader-screen.hide{
      opacity:0;
      transform: scale(.99);
      pointer-events:none;
    }
    .spinner{
      width:44px; height:44px;
      border-radius:999px;
      border:3px solid #e8e8e8;
      border-top-color:#111;
      animation: spin .85s linear infinite;
      margin-bottom:14px;
    }
    @keyframes spin{ to{ transform: rotate(360deg);} }
    .loader-title{
      font-weight:600;
      font-size:14px;
      letter-spacing: var(--ls);
      text-transform: uppercase;
    }
    .loader-sub{
      margin-top:8px;
      max-width: 280px;
      text-align:center;
      font-size:12px;
      color:var(--muted);
      letter-spacing: calc(var(--ls) + 0.02em);
      line-height: 1.35;
    }
    .loader-hint{
      margin-top:16px;
      font-size:12px;
      color: #8a8a8a;
      letter-spacing: calc(var(--ls) + 0.03em);
      opacity:0;
      transform: translateY(2px);
      transition: opacity .35s ease, transform .35s ease;
    }
    .loader-hint.show{ opacity:1; transform: translateY(0); }

    /* Layout */
    .app{
      min-height:100%;
      display:flex;
      flex-direction:column;
    }

    .header-space{ height: 76px; } /* чтобы якоря и observer работали ровно */

    .topbar{
      position:relative;
      padding-top: 14px;
      padding-bottom: 10px;
    }

    .topbar-inner{
      display:grid;
      grid-template-columns: 1fr auto 1fr;
      align-items:center;
    }

    .topbar-left, .topbar-right{
      display:flex;
      gap:22px;
      align-items:center;
      font-weight:400;
      font-size:12px;
      text-transform: uppercase;
      letter-spacing: var(--ls);
      white-space:nowrap;
    }
    .topbar-left{ justify-content:flex-start; }
    .topbar-right{ justify-content:flex-end; }

    .brand{
      display:flex;
      align-items:center;
      justify-content:center;
      width:62px; height:62px;
      margin:0 auto;
      cursor:pointer;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }

    /* “ARCHIVE” sphere-ish SVG vibe */
    .brand svg{ width:62px; height:62px; display:block; }

    .nav-item{
      opacity: .92;
      transition: opacity .18s ease, transform .18s ease;
      -webkit-tap-highlight-color: transparent;
    }
    .nav-item:active{ opacity: .65; transform: scale(.98); }

    /* Floating glass header */
    .floatbar{
      position:fixed;
      left:0; right:0;
      top: calc(env(safe-area-inset-top) + 8px);
      z-index: 2000;
      display:flex;
      justify-content:center;
      pointer-events:none;
      opacity:0;
      transform: translateY(-8px);
      transition: opacity .22s ease, transform .22s ease;
    }
    .floatbar.show{
      opacity:1;
      transform: translateY(0);
    }
    .floatbar-card{
      pointer-events:auto;
      width: min(420px, calc(100% - 28px));
      border-radius: 999px;
      background: linear-gradient(180deg, var(--glass), var(--glass2));
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
      box-shadow: var(--shadow);
      border: 1px solid rgba(0,0,0,.06);
      padding: 10px 14px;
    }
    .floatbar-inner{
      display:grid;
      grid-template-columns: 1fr auto 1fr;
      align-items:center;
    }
    .floatbar .topbar-left,
    .floatbar .topbar-right{
      font-size:12px;
      gap:14px;
    }
    .floatbrand{
      width:38px; height:38px;
      display:flex; align-items:center; justify-content:center;
    }
    .floatbrand svg{ width:38px; height:38px; }

    /* Categories (STATIC) */
    .categories{
      padding-top: 10px;
      padding-bottom: 18px;
    }
    .cat-wrap{
      display:flex;
      flex-wrap:wrap;
      justify-content:center;
      gap: 10px 18px;
      padding-top: 6px;
    }
    .cat{
      font-weight:600;
      font-size:10px;
      text-transform: uppercase;
      opacity:.9;
      cursor:pointer;
      padding: 7px 12px;
      border-radius: 10px;
      transition: opacity .18s ease, transform .18s ease, background .18s ease;
      -webkit-tap-highlight-color: transparent;
    }
    .cat:active{ transform: scale(.98); opacity:.7; }
    .cat.active{
      opacity: 1;
      background: rgba(0,0,0,.04);
    }

    /* Products grid */
    .content{
      flex:1;
      padding-bottom: 22px;
    }
    .products{
      width: min(520px, 100%);
      margin: 0 auto;
    }
    .grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 26px 18px;
      align-items:start;
      padding-top: 4px;
      transition: opacity .18s ease, transform .18s ease;
    }
    .grid.fade-out{
      opacity:0;
      transform: translateY(4px);
    }

    .card{
      text-align:center;
      user-select:none;
    }

    .img{
      width: 100%;
      aspect-ratio: 1/1;
      border-radius: 22px;
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
      background: radial-gradient(120% 120% at 50% 30%, #ffffff 0%, #f2f2f2 55%, #e9e9e9 100%);
      border: 1px solid rgba(0,0,0,.06);
    }

    /* Inline “jacket” SVG look */
    .img svg{ width: 92%; height: 92%; opacity: .92; }

    .name{
      margin-top: 16px;
      font-weight:650;
      font-size:14px;
      text-transform: uppercase;
      letter-spacing: var(--ls);
    }
    .desc{
      margin-top: 6px;
      font-weight:600;
      font-size:12px;
      text-transform: uppercase;
      color:#111;
      opacity:.85;
      letter-spacing: calc(var(--ls) + 0.02em);
    }
    .price-row{
      margin-top: 10px;
      display:flex;
      align-items:baseline;
      justify-content:center;
      gap: 8px;
      font-size:14px;
      font-weight:700;
      letter-spacing: calc(var(--ls) + 0.02em);
      text-transform: uppercase;
    }
    .old{
      font-weight:600;
      color: #8b8b8b;
      text-decoration: line-through;
      font-size: 12px;
      letter-spacing: calc(var(--ls) + 0.03em);
    }

    .dolyami{
      margin-top: 10px;
      display:inline-flex;
      align-items:center;
      gap: 10px;
      padding: 10px 12px;
      border-radius: 999px;
      background: rgba(0,0,0,.06);
      color:#111;
      font-weight:700;
      font-size:12px;
      letter-spacing: var(--ls-soft);
      text-transform: none;
    }
    .dolyami .dot{
      width:18px; height:18px;
      border-radius: 6px;
      background:#111;
      display:grid;
      place-items:center;
    }
    .dolyami .dot i{
      width:10px; height:10px;
      display:block;
      background: repeating-linear-gradient(
        90deg,
        #fff, #fff 2px,
        transparent 2px, transparent 4px
      );
      border-radius:3px;
      opacity:.95;
    }

    /* Footer */
    .footer{
      padding-top: 26px;
      padding-bottom: 34px;
    }
    .footer-links{
      display:flex;
      justify-content:center;
      flex-wrap:wrap;
      gap: 10px 18px;
      font-weight:600;
      font-size:9px;
      text-transform: uppercase;
      letter-spacing: calc(var(--ls) + 0.03em);
      opacity: .92;
      margin-bottom: 10px;
    }
    .footer-legal{
      display:flex;
      flex-direction:column;
      align-items:center;
      gap: 8px;
      font-weight:600;
      font-size:9px;
      text-transform: uppercase;
      letter-spacing: calc(var(--ls) + 0.03em);
      opacity: .85;
    }
    .footer a{
      transition: opacity .18s ease, transform .18s ease;
      -webkit-tap-highlight-color: transparent;
    }
    .footer a:active{ opacity:.65; transform: scale(.99); }

    /* Small devices polish */
    @media (max-width: 360px){
      .topbar-left,.topbar-right{ gap: 12px; font-size: 13px; }
      .cat{ font-size: 16px; }
      .grid{ gap: 22px 14px; }
      .name{ font-size: 15px; }
    }
  </style>
</head>

<body>
  <!-- LOADER -->
  <div id="loader" class="loader-screen safe top-safe bottom-safe" aria-live="polite">
    <div class="spinner" aria-hidden="true"></div>
    <div class="loader-title">Загрузка</div>
    <div class="loader-sub">Прогружаем всё нужное. Если загрузка идёт слишком долго — перезагрузите приложение.</div>
    <div id="loaderHint" class="loader-hint">Совет: иногда помогает закрыть и открыть Telegram заново.</div>
  </div>

  <!-- FLOATING GLASS HEADER -->
  <div id="floatbar" class="floatbar safe" aria-hidden="true">
    <div class="floatbar-card">
      <div class="floatbar-inner">
        <div class="topbar-left">
          <span class="nav-item">поиск</span>
          <a class="nav-item" href="https://t.me/furuyumemngrs" target="_blank" rel="noopener">поддержка</a>
        </div>

        <button class="floatbrand" id="floatLogoBtn" aria-label="FURUYUME — наверх">
          <svg viewBox="0 0 100 100" fill="none" aria-hidden="true">
            <defs>
              <clipPath id="c2"><circle cx="50" cy="50" r="46"/></clipPath>
            </defs>
            <circle cx="50" cy="50" r="46" fill="#111"/>
            <g clip-path="url(#c2)" opacity=".98">
              <path d="M10 25 C30 10, 70 10, 90 25" stroke="#fff" stroke-width="6" stroke-linecap="round"/>
              <path d="M10 40 C30 25, 70 25, 90 40" stroke="#fff" stroke-width="6" stroke-linecap="round"/>
              <path d="M10 55 C30 40, 70 40, 90 55" stroke="#fff" stroke-width="6" stroke-linecap="round"/>
              <path d="M10 70 C30 55, 70 55, 90 70" stroke="#fff" stroke-width="6" stroke-linecap="round"/>
              <text x="50" y="57" text-anchor="middle" font-family="Inter, Arial" font-size="16" font-weight="800" fill="#fff" style="letter-spacing:-0.08em;">
                ARCHIVE
              </text>
            </g>
          </svg>
        </button>

        <div class="topbar-right">
          <span class="nav-item">отзывы</span>
          <span class="nav-item">корзина</span>
        </div>
      </div>
    </div>
  </div>

  <div class="app">
    <div class="header-space" aria-hidden="true"></div>

    <!-- MAIN HEADER -->
    <header id="mainHeader" class="topbar safe top-safe">
      <div class="topbar-inner">
        <div class="topbar-left">
          <span class="nav-item">поиск</span>
          <a class="nav-item" href="https://t.me/furuyumemngrs" target="_blank" rel="noopener">поддержка</a>
        </div>

        <button class="brand" id="logoBtn" aria-label="FURUYUME — наверх">
          <svg viewBox="0 0 100 100" fill="none" aria-hidden="true">
            <defs>
              <clipPath id="c1"><circle cx="50" cy="50" r="46"/></clipPath>
            </defs>
            <circle cx="50" cy="50" r="46" fill="#111"/>
            <g clip-path="url(#c1)" opacity=".98">
              <path d="M10 22 C30 8, 70 8, 90 22" stroke="#fff" stroke-width="6" stroke-linecap="round"/>
              <path d="M10 38 C30 24, 70 24, 90 38" stroke="#fff" stroke-width="6" stroke-linecap="round"/>
              <path d="M10 54 C30 40, 70 40, 90 54" stroke="#fff" stroke-width="6" stroke-linecap="round"/>
              <path d="M10 70 C30 56, 70 56, 90 70" stroke="#fff" stroke-width="6" stroke-linecap="round"/>
              <path d="M10 86 C30 72, 70 72, 90 86" stroke="#fff" stroke-width="6" stroke-linecap="round"/>
              <text x="50" y="58" text-anchor="middle" font-family="Inter, Arial" font-size="18" font-weight="800" fill="#fff" style="letter-spacing:-0.08em;">
                ARCHIVE
              </text>
            </g>
          </svg>
        </button>

        <div class="topbar-right">
          <span class="nav-item">отзывы</span>
          <span class="nav-item">корзина</span>
        </div>
      </div>
    </header>

    <!-- CATEGORIES (STATIC) -->
    <section class="categories safe" aria-label="Категории">
      <div class="cat-wrap" id="catWrap">
        <!-- injected -->
      </div>
    </section>

    <!-- CONTENT -->
    <main class="content safe" aria-label="Товары">
      <section class="products">
        <div id="grid" class="grid" aria-live="polite">
          <!-- injected -->
        </div>
      </section>
    </main>

    <!-- FOOTER -->
    <footer class="footer safe bottom-safe">
      <div class="footer-links">
        <a href="https://t.me/" target="_blank" rel="noopener">telegram</a>
        <a href="https://www.tiktok.com/" target="_blank" rel="noopener">tiktok</a>
        <a href="https://www.instagram.com/" target="_blank" rel="noopener">instagram</a>
        <a href="https://example.com/" target="_blank" rel="noopener">site</a>
      </div>
      <div class="footer-legal">
        <a href="https://example.com/privacy" target="_blank" rel="noopener">политика конфиденциальности</a>
        <a href="https://example.com/offer" target="_blank" rel="noopener">договор оферты</a>
      </div>
    </footer>
  </div>

  <script>
    // ====== Data (пока 2 товара, как на скрине) ======
    const CATEGORIES = [
      { id: "all", label: "Все" },
      { id: "olymp", label: "Олимпийки" },
      { id: "bombers", label: "Бомберы" },
      { id: "hoodies", label: "Худи" },
      { id: "longsleeves", label: "Лонгсливы" },
      { id: "tees", label: "Футболки" },
      { id: "pants", label: "Штаны" },
      { id: "shoes", label: "Обувь" }
    ];

    // Один “архивный” товар, но дублируем, чтобы визуально было как в примере.
    const PRODUCTS = [
      {
        id: "p1",
        name: "REFLECTIVE SWEATER (BLACK)",
        badge: "РАСПРОДАЖА",
        price: "7 600 RUB",
        oldPrice: "11 600 RUB",
        dolyami: "Долями по 1 900 ₽",
        categories: ["olymp","bombers","hoodies","longsleeves","tees","pants","shoes"]
      },
      {
        id: "p2",
        name: "REFLECTIVE SWEATER (BLACK)",
        badge: "РАСПРОДАЖА",
        price: "7 600 RUB",
        oldPrice: "11 600 RUB",
        dolyami: "Долями по 1 900 ₽",
        categories: ["olymp","bombers","hoodies","longsleeves","tees","pants","shoes"]
      }
    ];

    // ====== Elements ======
    const loader = document.getElementById("loader");
    const loaderHint = document.getElementById("loaderHint");
    const mainHeader = document.getElementById("mainHeader");
    const floatbar = document.getElementById("floatbar");
    const logoBtn = document.getElementById("logoBtn");
    const floatLogoBtn = document.getElementById("floatLogoBtn");
    const catWrap = document.getElementById("catWrap");
    const grid = document.getElementById("grid");

    // ====== Helpers ======
    const sleep = (ms) => new Promise(r => setTimeout(r, ms));

    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: "smooth" });
    }

    function jacketSVG() {
      // простая “олимпийка” в SVG, чтобы было похоже по вайбу
      return `
        <svg viewBox="0 0 240 240" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <defs>
            <linearGradient id="g1" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0" stop-color="#ffffff"/>
              <stop offset="1" stop-color="#f0f0f0"/>
            </linearGradient>
          </defs>

          <!-- body -->
          <path d="M70 48
                   C86 36, 154 36, 170 48
                   L190 70
                   C198 78, 202 92, 200 104
                   L190 185
                   C188 200, 176 212, 161 212
                   H79
                   C64 212, 52 200, 50 185
                   L40 104
                   C38 92, 42 78, 50 70
                   L70 48Z"
                fill="url(#g1)" stroke="rgba(0,0,0,.10)" stroke-width="3" />

          <!-- zipper -->
          <path d="M120 46 V212" stroke="rgba(0,0,0,.16)" stroke-width="3" stroke-linecap="round"/>

          <!-- collar -->
          <path d="M96 46
                   C106 62, 112 72, 120 78
                   C128 72, 134 62, 144 46"
                stroke="rgba(0,0,0,.14)" stroke-width="3" stroke-linecap="round" fill="none"/>

          <!-- left sleeve -->
          <path d="M70 48 L46 70 C36 80, 30 92, 30 106
                   L34 170 C35 184, 46 194, 60 194
                   H72"
                fill="url(#g1)" stroke="rgba(0,0,0,.10)" stroke-width="3" />

          <!-- right sleeve -->
          <path d="M170 48 L194 70 C204 80, 210 92, 210 106
                   L206 170 C205 184, 194 194, 180 194
                   H168"
                fill="url(#g1)" stroke="rgba(0,0,0,.10)" stroke-width="3" />

          <!-- stripes -->
          <path d="M54 82 L76 60" stroke="rgba(120,170,220,.85)" stroke-width="5" stroke-linecap="round"/>
          <path d="M60 92 L86 66" stroke="rgba(120,170,220,.85)" stroke-width="5" stroke-linecap="round"/>
          <path d="M66 102 L96 74" stroke="rgba(120,170,220,.85)" stroke-width="5" stroke-linecap="round"/>

          <path d="M186 82 L164 60" stroke="rgba(120,170,220,.85)" stroke-width="5" stroke-linecap="round"/>
          <path d="M180 92 L154 66" stroke="rgba(120,170,220,.85)" stroke-width="5" stroke-linecap="round"/>
          <path d="M174 102 L144 74" stroke="rgba(120,170,220,.85)" stroke-width="5" stroke-linecap="round"/>

          <!-- small chest marks -->
          <path d="M86 102
                   C86 92, 98 90, 104 98
                   C98 106, 90 110, 86 102Z"
                fill="rgba(120,170,220,.35)" stroke="rgba(120,170,220,.75)" stroke-width="2"/>
          <path d="M152 98
                   C156 92, 168 92, 170 100
                   C164 106, 156 108, 152 98Z"
                fill="rgba(120,170,220,.25)" stroke="rgba(120,170,220,.65)" stroke-width="2"/>
        </svg>
      `;
    }

    function renderCategories(activeId) {
      catWrap.innerHTML = CATEGORIES.map(c => {
        const active = c.id === activeId ? "active" : "";
        return `<button class="cat ${active}" data-cat="${c.id}" type="button">${c.label}</button>`;
      }).join("");
    }

    function filterProducts(catId) {
      if (catId === "all") return PRODUCTS;
      return PRODUCTS.filter(p => (p.categories || []).includes(catId));
    }

    function renderProducts(catId) {
      const items = filterProducts(catId);
      grid.innerHTML = items.map(p => `
        <article class="card">
          <div class="img">${jacketSVG()}</div>
          <div class="name">${p.name}</div>
          <div class="desc">${p.badge}</div>
          <div class="price-row">
            <span>${p.price}</span>
            <span class="old">${p.oldPrice}</span>
          </div>
          <div class="dolyami" aria-label="${p.dolyami}">
            <span class="dot" aria-hidden="true"><i></i></span>
            <span>${p.dolyami}</span>
          </div>
        </article>
      `).join("");
    }

    async function switchCategory(nextId) {
      // плавное обновление
      grid.classList.add("fade-out");
      await sleep(160);
      renderProducts(nextId);
      await sleep(20);
      grid.classList.remove("fade-out");
    }

    // ====== Sticky glass header (only when main header leaves viewport) ======
    function setupFloatingHeader() {
      const io = new IntersectionObserver((entries) => {
        const e = entries[0];
        if (!e) return;
        const show = !e.isIntersecting;
        floatbar.classList.toggle("show", show);
        floatbar.setAttribute("aria-hidden", show ? "false" : "true");
      }, { threshold: 0.1 });

      io.observe(mainHeader);
    }

    // ====== Loader ======
    async function hideLoaderSoon() {
      // hint if too long
      const hintTimer = setTimeout(() => loaderHint.classList.add("show"), 2200);

      // wait for fonts a bit (best-effort)
      try { if (document.fonts && document.fonts.ready) await Promise.race([document.fonts.ready, sleep(700)]); } catch(e){}
      await sleep(420);

      clearTimeout(hintTimer);
      loader.classList.add("hide");
      await sleep(300);
      loader.style.display = "none";
    }

    // ====== Init ======
    (function init(){
      const DEFAULT_CAT = "all";
      renderCategories(DEFAULT_CAT);
      renderProducts(DEFAULT_CAT);

      setupFloatingHeader();

      logoBtn.addEventListener("click", scrollToTop);
      floatLogoBtn.addEventListener("click", scrollToTop);

      catWrap.addEventListener("click", async (e) => {
        const btn = e.target.closest("[data-cat]");
        if (!btn) return;
        const nextId = btn.getAttribute("data-cat");
        const current = catWrap.querySelector(".cat.active")?.getAttribute("data-cat");
        if (nextId === current) return;

        // active state
        catWrap.querySelectorAll(".cat").forEach(x => x.classList.remove("active"));
        btn.classList.add("active");

        await switchCategory(nextId);
      });

      // Disable double-tap zoom feeling a bit
      let lastTouchEnd = 0;
      document.addEventListener('touchend', function (event) {
        const now = Date.now();
        if (now - lastTouchEnd <= 250) event.preventDefault();
        lastTouchEnd = now;
      }, { passive: false });

      // loader out
      if (document.readyState === "complete" || document.readyState === "interactive") {
        hideLoaderSoon();
      } else {
        document.addEventListener("DOMContentLoaded", hideLoaderSoon, { once: true });
      }
    })();
  </script>
</body>
</html>
